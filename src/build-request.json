{
  "kind": "build_request",
  "title": "Fix file upload failure caused by favicon implementation",
  "projectName": "LookyLoo",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Diagnose and fix the root cause of 'Actor not available' error that occurs after favicon implementation, ensuring the backend actor initializes correctly for authenticated file uploads",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-5",
          "msg-6"
        ],
        "quotes": [
          "Actor not available",
          "Upload failed"
        ]
      },
      "acceptanceCriteria": [
        "Backend actor initializes successfully for authenticated users",
        "No 'Actor not available' errors appear in the upload flow",
        "File upload functionality works after favicon is present in frontend/index.html"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Restore file picker upload functionality for images and short videos (max 2MB), ensuring files can be selected, uploaded in chunks, and stored in the backend canister",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-3",
          "msg-4"
        ],
        "quotes": [
          "the app. the purpose is click upload button, select file, click upload. but response back is upload failed",
          "any but mostly images and short vids"
        ]
      },
      "acceptanceCriteria": [
        "File picker button opens file selection dialog",
        "Selected files (images/videos up to 2MB) upload successfully",
        "Upload progress displays correctly during chunked upload",
        "Successful uploads generate shareable links as before"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Verify uploaded files display correctly in the UI with shareable links after fixing the upload failure, maintaining the existing UploadsList component behavior",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "Displayed in the UI with a link"
        ]
      },
      "acceptanceCriteria": [
        "Uploaded files appear in My Uploads page",
        "Each file displays metadata (filename, size, type, download count)",
        "Share links can be copied and used to access files",
        "File preview and download functionality work on share pages"
      ]
    },
    {
      "id": "REQ-4",
      "text": "Ensure the favicon at /assets/generated/favicon.dim_32x32.png continues to display in the browser tab while file upload functionality remains working",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-3"
        ],
        "quotes": [
          "If you could fix it that'd be great but only if you know why it broke"
        ]
      },
      "acceptanceCriteria": [
        "Favicon displays correctly in browser tab",
        "Favicon implementation does not interfere with backend actor initialization",
        "Both favicon and file uploads work simultaneously"
      ]
    }
  ],
  "constraints": [
    "Do not remove or disable the favicon functionality",
    "Maintain the existing chunked upload architecture in backend/main.mo",
    "Preserve the file picker UI shown in the screenshot (Choose File button with file name display)",
    "Keep the 2MB file size limit for uploads",
    "Do not modify the authentication flow or Internet Identity integration"
  ],
  "nonGoals": [
    "Changing the upload UI from file picker to drag-and-drop",
    "Adding new file type support beyond images and videos",
    "Modifying the file sharing or download functionality",
    "Redesigning the favicon or creating new favicon assets"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}